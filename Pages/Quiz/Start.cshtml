@page
@model StartModel

@{
    ViewData["Title"] = "Start Quiz page";
}

<h1>Quiz</h1>

<form method="post">
    <fieldset>
        <label asp-for="CurrentScore.TakerName" class="h4">Name</label>
        <input asp-for="CurrentScore.TakerName" class="form-control" required/>
        <span asp-validation-for="CurrentScore.TakerName" class="text-danger"></span>

    </fieldset>

    <fieldset>
        @for (int i = 0; i < Model.Questions.Count; i++)
        {
            var question = Model.Questions[i];
            
            <div class="question">
                <h3>@(i + 1). @question.Text</h3>
                
                @foreach (var answer in question.Answers)
                {
                    <div>
                        <input 
                            type="radio" 
                            id="q@(question.Id)a@(answer.Id)" 
                            name="UserAnswerList[@i].answerId"
                            @* asp-for="UserAnswerList[i].AnswerId" *@
                            value="@answer.Id" 
                            required/>
                        
                        @* <input type="radio" id="q@(question.Id)a@(answer.Id)" name="UserAnswerIdList[@i]" value="@answer.Id" required/> *@
                        
                        <label for="q@(question.Id)a@(answer.Id)">@answer.Text</label>

                        <input type="hidden" 
                               name="UserAnswerList[@i].questionId"
                               @* asp-for="UserAnswerList[i].QuestionId" *@
                               value="@question.Id" />
                        
                    </div>
                }
            </div>
        }
    </fieldset>
 
    <button type="submit" class="btn btn-primary mt-3">Submit Quiz</button>
</form>

